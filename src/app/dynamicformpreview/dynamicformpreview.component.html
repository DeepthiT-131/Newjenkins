<div class="col-sm-12 pOutside">
  <div class="col-sm-12 pOutside">
    <div class="headerbg">
      <h3 class="headetstyle">{{modulename}}<span><i (click)="BindHisoryData(0,history)"
            class="fa fa-history bigfont iconcolor iconOnHead"></i></span>
          <span><i class="fa fa-calendar bigfont iconcolor iconOnHead"></i></span>
          <span><i class="fa fa-columns bigfont iconcolor iconOnHead"></i></span>
          <span><i class="fa fa-file-text-o bigfont iconcolor iconOnHead"></i></span></h3>

    </div>
  </div>
</div>
<div class="whitebg">
  <div class="row">
    <div class="card-body create">

      <div *ngFor="let item of TabletargetBuilderTools">
        <div class="row">

          <div *ngFor="let child of item.children" [ngClass]="item.className">
            <div class="form-group" *ngIf="child.fieldType=='date'">

              <label>{{child.fieldName}}</label>
              <p-calendar class="form-control headerfilter" [(ngModel)]="child.value" [monthNavigator]="true"
                [yearNavigator]="true" yearRange="2000:2030" [ngModelOptions]="{standalone: true}" [minDate]="MinDate"
                [maxDate]="MaxDate" dateFormat="yy-mm-dd" (onSelect)="onFilterdatechange($event,child.columnID)">
              </p-calendar>


            </div>
            <div class="form-group" *ngIf="child.fieldType=='select'">
              <label>{{child.fieldName}}</label>

              <select class="form-control headerfilter" [(ngModel)]="child.value" [ngModelOptions]="{standalone: true}">
                <option value="0">--All--</option>
                <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
              </select>
            </div>
            <div *ngIf="child.fieldType=='button'" class="btn-cont">

              <input type="submit" value="{{child.fieldName}}" class="btn commonbutton" (click)="CheckFilter()">
            </div>
          </div>


          <div *ngFor="let child of item.children1" [ngClass]="item.className">
            <div class="form-group" *ngIf="child.fieldType=='date'">

              <label>{{child.fieldName}}</label>
              <p-calendar class="form-control headerfilter" [(ngModel)]="child.value"
                [ngModelOptions]="{standalone: true}" [pTooltip]="child.sop" tooltipPosition="left"
                [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030" [minDate]="MinDate"
                [maxDate]="MaxDate" dateFormat="yy-mm-dd" (onSelect)="onFilterdatechange($event,child.columnID)">
              </p-calendar>

            </div>
            <div class="form-group" *ngIf="child.fieldType=='select'">
              <label>{{child.fieldName}}</label>

              <select class="form-control headerfilter" [(ngModel)]="child.value" [ngModelOptions]="{standalone: true}">
                <option value="0">--All--</option>
                <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
              </select>
            </div>
            <div *ngIf="child.fieldType=='button'" class="btn-cont btn-top">

              <input type="submit" value="{{child.fieldName}}" class="btn commonbutton" (click)="CheckFilter()">
              <button class="btn commonbutton addform" *ngIf="acessData.AddAccess==true" (click)="AddClick(content)">Add
                <i _ngcontent-whs-c2="" class="fa fa-plus-circle"></i></button>
            </div>
          </div>


          <div *ngFor="let child of item.children2" [ngClass]="item.className">
            <div class="form-group" *ngIf="child.fieldType=='date'">

              <label>{{child.fieldName}}</label>
              <p-calendar class="form-control headerfilter" [(ngModel)]="child.value"
                [ngModelOptions]="{standalone: true}" [monthNavigator]="true" [yearNavigator]="true"
                yearRange="2000:2030" [minDate]="MinDate" [maxDate]="MaxDate" dateFormat="yy-mm-dd"
                (onSelect)="onFilterdatechange($event,child.columnID)">
              </p-calendar>

            </div>
            <div class="form-group" *ngIf="child.fieldType=='select'">
              <label>{{child.fieldName}}</label>

              <select class="form-control headerfilter" [(ngModel)]="child.value" [ngModelOptions]="{standalone: true}">
                <option value="0">--All--</option>
                <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
              </select>
            </div>
            <div *ngIf="child.fieldType=='button'" class="btn-top">

              <input type="submit" value="{{child.fieldName}}" class="btn commonbutton" (click)="CheckFilter()">
              <button class="btn commonbutton addform" *ngIf="acessData.AddAccess==true"
                (click)="AddClick(content)">Add<i _ngcontent-whs-c2="" class="fa fa-plus-circle"></i></button>
            </div>
          </div>
          <div *ngFor="let child of item.children3" [ngClass]="item.className">
            <div class="form-group" *ngIf="child.fieldType=='date'">

              <label>{{child.fieldName}}</label>
              <p-calendar class="form-control headerfilter" [(ngModel)]="child.value"
                [ngModelOptions]="{standalone: true}" [monthNavigator]="true" [yearNavigator]="true"
                yearRange="2000:2030" [minDate]="MinDate" [maxDate]="MaxDate" dateFormat="yy-mm-dd"
                (onSelect)="onFilterdatechange($event,child.columnID)">
              </p-calendar>

            </div>
            <div class="form-group" *ngIf="child.fieldType=='select'">
              <label>{{child.fieldName}}</label>

              <select class="form-control headerfilter" [(ngModel)]="child.value" [ngModelOptions]="{standalone: true}">
                <option value="0">--All--</option>
                <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
              </select>
            </div>
            <div *ngIf="child.fieldType=='button'" class="btn-top">
              <label></label>
              <input type="submit" value="{{child.fieldName}}" class="btn commonbutton" (click)="CheckFilter()">
              <button class="btn commonbutton addform" *ngIf="acessData.AddAccess==true" (click)="AddClick(content)">Add
                <i _ngcontent-whs-c2="" class="fa fa-plus-circle"></i></button>
            </div>
          </div>
          <div *ngFor="let child of item.children4" [ngClass]="item.className">
            <div class="form-group" *ngIf="child.fieldType=='date'">

              <label>{{child.fieldName}}</label>
              <p-calendar class="form-control headerfilter" [(ngModel)]="value" [monthNavigator]="true"
                [yearNavigator]="true" yearRange="2000:2030" [minDate]="MinDate" [maxDate]="MaxDate"
                dateFormat="yy-mm-dd" (onSelect)="onFilterdatechange($event,child.columnID)">
              </p-calendar>

            </div>
            <div class="form-group" *ngIf="child.fieldType=='select'">
              <label>{{child.fieldName}}</label>

              <select class="form-control headerfilter" [(ngModel)]="child.value" [ngModelOptions]="{standalone: true}">
                <option value="0">--All--</option>
                <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
              </select>
            </div>
            <div *ngIf="child.fieldType=='button'" class="btn-top">
              <label></label>
              <input type="submit" value="{{child.fieldName}}" class="btn commonbutton" (click)="CheckFilter()">
              <button class="btn commonbutton addform" *ngIf="acessData.AddAccess==true"
                (click)="AddClick(content)">Add<i _ngcontent-whs-c2="" class="fa fa-plus-circle"></i></button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <!-- <div class="card-body create"> 
  <div class="row" style="float: right;">
  
    
    </div>
    </div> -->
    <p-confirmDialog></p-confirmDialog>
    <div id="layout-content" class="tablelayout">

      <p-table #dt [columns]="selectedColumns" [value]="cars" [paginator]="table.Pagination" [first]="first"
        [responsive]="true" [rows]="10" sortMode="multiple" [scrollable]="table.Scrollable" scrollHeight="400px"
        [resizableColumns]="table.Resizable" [reorderableColumns]="table.Reorder">
        <ng-template pTemplate="caption">
          <div class="row">

            <div class="col-lg-2 col-sm-4">

              <div *ngIf="table.ExportButton" class="ui-helper-clearfix" style="text-align: left">
                <button type="button" class="exportbuttons" icon="pi pi-file-o" iconPos="left"
                  (click)="dt.exportCSV()"><span aria-hidden="true"
                    class="ui-button-icon-left ui-clickable fa fa-files-o"
                    style="font-size: 16px; padding: 8px;"></span></button>

                <!-- <button type="button" class="exportbuttons" icon="pi pi-file-excel" iconPos="left" label="EXCEL" (click)="exportExcel()" style="margin-right: 0.5em;padding: 5px;"><span aria-hidden="true" class="ui-button-icon-left ui-clickable pi pi-file-excel"></span>EXCEL</button> -->

                <button type="button" class="exportbuttons" icon="pi pi-file-pdf" iconPos="left" label="PDF"
                  (click)="exportPdf()"><span aria-hidden="true"
                    class="ui-button-icon-left ui-clickable fa fa-file-pdf-o"
                    style="font-size: 16px; padding: 8px;"></span></button>
              </div>
            </div>
            <div class="col-lg-3 col-sm-4">
              <div *ngIf="table.MultiSelect" style="text-align:left">
              
                <p-multiSelect [options]="filtercols" [(ngModel)]="selectedColumns" optionLabel="header"
                  selectedItemsLabel="{0} columns selected" [style]="{minWidth: '200px'}" defaultLabel="Choose Columns">
                </p-multiSelect>
              </div>
            </div>
            <div class="col-lg-7 col-sm-4">
              <div *ngIf="table.Filter" style="text-align: right">
                <span class="searchfilter">Search:</span>
                <input type="text" pInputText size="20" placeholder=""
                  (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto;padding: 5px;">
              </div>
            </div>
          </div>
        </ng-template>

        <ng-template pTemplate="header" class="tblheading" let-columns>
          <tr>

            <th *ngFor="let col of columns" [pSortableColumn]="col.field" pResizableColumn pReorderableColumn>
              {{col.header}}
              <p-sortIcon [field]="col.field"></p-sortIcon>
            </th>
            <th>Actions</th>
          </tr>
        </ng-template>

        <ng-template pTemplate="colgroup" let-columns>
          <colgroup>
            <col *ngFor="let col of columns" style="width:110px">
          </colgroup>
        </ng-template>


        <ng-template pTemplate="body" let-car let-columns="columns" let-index="rowIndex" class="wordwrap tablebgcolor">

          <tr [pReorderableRow]="index">

            <td *ngFor="let col of columns" class="ui-resizable-column" style="word-break: break-all;">
              <span *ngIf="car[col.field] == 'Click'"> <i (click)="OpenchildTable(col.field,car.ID,multichildtable)"
                  class="fa fa-eye bigfont iconcolor"></i></span>
              <span *ngIf="car[col.field] != 'Click'">
                <span class="ui-column-title">{{col.header}}</span>

                {{car[col.field]}}
              </span>
            </td>
            <td data-title="Actions">
              <span class="ui-column-title">Actions</span>
              <i *ngIf="acessData.EditAccess==true" (click)="editClick(car,content)"
                class="fa fa-pencil bigfont iconcolor"></i>
              <i *ngIf="acessData.DeleteAccess==true" (click)="confirm1(car)"
                class="fa fa-times-circle-o blue bigfont iconcolor " label="Confirm" style="padding-left: 8px;">
              </i>

              <i *ngIf="isfile==true" (click)="downloadClick(car,download)"
                class="fa fafa fa-download bigfont iconcolor" style="padding-left: 12px;"></i>

              <i (click)="historyClick(car,history)" class="fa fa-history bigfont iconcolor"
                style="padding-left: 8px;"></i>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage" let-columns>
          <tr>

            <td [attr.colspan]="emptyrow">
              No records found
            </td>

          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
  <br>

  <ng-template #content let-modal>
    <div class="modal-header popuphead">
      <h4 class="modal-title popuptitle">{{modulename}}
      </h4>
      <button type="button" class="close pull-right" aria-label="Close"
        (click)="modal.dismiss('Cross click'); form.reset()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div *ngIf="jsondata" class="container  marginB30">

        <div class="row">

          <div *ngIf="success" class="col-12">
            <div class="form-group">
              <label>Your form has been submitted.</label>
            </div>
          </div>
          <form class="ftheme" [formGroup]="form" (ngSubmit)="SaveJson()">

            <div *ngIf="!success" class="col-12">
              <div *ngFor="let item of jsondata.Createjson">
                <div *ngIf="item.fieldType=='divSection' && item.multiple==false" class="row">
                  <div *ngFor="let child of item.children" [ngClass]="item.className">


                    <div #container class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='text'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right" [appendTo]="container"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='email'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right" [appendTo]="container"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='phone'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="text" [formControlName]="child.columnID" [name]="child.columnID"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='number'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        class="form-control cshadow" [placeholder]="child.placeholder" min="0"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='textarea'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>


                      <textarea class="form-control cshadow" [formControlName]="child.columnID" [name]="child.columnID"
                        [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength">
                     </textarea>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='paragraph'">

                      <p class="form-text wordwrap"
                        [ngClass]="{'center':child.Alignment=='center','justify':child.Alignment=='justify','right':child.Alignment=='right','end':child.Alignment=='end','left':item.Alignment=='left'}">
                        {{child.placeholder}}</p>
                    </div>

                    <div class="form-group" *ngIf="child.fieldType=='hrLine'">
                      <hr>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='date'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>


                      <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}"
                        [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030" [minDate]="MinDate"
                        [maxDate]="MaxDate" [touchUI]="false" dateFormat="yy-mm-dd"
                        (onSelect)="ondatechange($event,child.columnID,child.fieldId,child)" [required]="child.required">
                      </p-calendar>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='time'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>

                      <!-- <p-calendar formControlName="{{child.columnID}}" [timeOnly]="true"
                        (onSelect)="ontimechange($event,child.columnID,child)" [required]="child.required"
                        class="form-control cshadow"></p-calendar> -->

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='checkbox'">
                      <br>
                      <p-checkbox name="{{child.fieldName}}" formControlName="{{child.columnID}}"
                        label="{{child.fieldName}}" binary="true" [required]="child.required"></p-checkbox>
                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='select'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <select class="form-control cshadow" [formControlName]="child.columnID"
                        [required]="child.required" [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right"
                        [appendTo]="container"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors}">
                        <option value="0" selected disabled>--Select--</option>
                        <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
                      </select>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.defaultSelect">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='radio'">
                      <div> <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                          class="text-danger">*</label></div>

                      <div
                        [ngClass]="{'horizontal':child.displaytype=='horizontal','vertical':child.displaytype=='vertical'}"
                        *ngFor="let v of child.values" class="inline-form-group">
                        <div class="ui-g-12">
                          <p-radioButton name="{{child.fieldName}}" value="{{v.Value}}" label="{{v.Label}}"
                            formControlName="{{child.columnID}}" [required]="child.required"></p-radioButton>
                        </div>

                      </div>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div *ngIf="child.fieldType=='button'" class="btn-cont">

                      <input type="submit" value="{{child.fieldName}}" class="btn commonbutton"
                        id="{{child.fieldName}}">
                    </div>

                    <div *ngIf="child.fieldType=='file'">
                      <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label>
                      <input type="file" class="displayblk" (change)="onSelectFile($event,child.columnID,form)"
                        placeholder="{{child.placeholder}}">
                      <a style="cursor: pointer;color:blue"
                        (click)="DownLoadFiles(child.fieldName,form.get(child.columnID).value)">{{form.get(child.columnID).value  | splitValue}}</a>
                      <input type="hidden" [formControlName]="child.columnID">
                    </div>

                    <div *ngIf="child.fieldType=='sign'">
                      <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label><br>
                      <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                      (onEndEvent)="drawComplete(signatureCanvas,child.columnID)" ></signature-pad><br>
                      <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                      <img [src]="form.get(child.columnID).value" width="50%">
                    </div>

                    <div *ngIf="child.fieldType=='Editor'">
                      <!-- <app-dynamic-form (messageEvent)="receiveMessage($event)"></app-dynamic-form> -->
                   <div [innerHTML]="child.placeholder"></div>
                    </div>

                  </div>
                  <div *ngFor="let child of item.children1" [ngClass]="item.className">


                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='text'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='email'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='phone'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="text" [formControlName]="child.columnID" [name]="child.columnID"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='number'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        class="form-control cshadow" [placeholder]="child.placeholder" min="0"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='textarea'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>


                      <textarea class="form-control cshadow" [formControlName]="child.columnID" [name]="child.columnID"
                        [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength">
          </textarea>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='paragraph'">

                      <p class="form-text wordwrap"
                        [ngClass]="{'center':child.Alignment=='center','justify':child.Alignment=='justify','right':child.Alignment=='right','end':child.Alignment=='end','left':item.Alignment=='left'}">
                        {{child.placeholder}}</p>
                    </div>

                    <div class="form-group" *ngIf="child.fieldType=='hrLine'">
                      <hr>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='date'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}"
                        [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030" [minDate]="MinDate"
                        [maxDate]="MaxDate" [touchUI]="false" dateFormat="yy-mm-dd"
                        (onSelect)="ondatechange($event,child.columnID,child.fieldId,child)" [required]="child.required">
                      </p-calendar>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='time'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>

                      <!-- <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}" [timeOnly]="true"
                        (onSelect)="ontimechange($event,child.columnID,child)" [required]="child.required"></p-calendar> -->
                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='checkbox'">
                      <br>
                      <p-checkbox name="{{child.fieldName}}" formControlName="{{child.columnID}}"
                        label="{{child.fieldName}}" binary="true" [required]="child.required"></p-checkbox>
                      <!-- <input type="checkbox" formControlName="{{child.columnID}}" >
                      Floor QA Check & approval  -->
                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='select'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <select class="form-control cshadow" [formControlName]="child.columnID"
                        [required]="child.required" [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right"
                        [appendTo]="container"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors}">
                        <option value="0" selected disabled>--Select--</option>
                        <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
                      </select>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.defaultSelect">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='radio'">
                      <div> <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                          class="text-danger">*</label></div>

                      <div
                        [ngClass]="{'horizontal':child.displaytype=='horizontal','vertical':child.displaytype=='vertical'}"
                        *ngFor="let v of child.values" class="inline-form-group">
                        <div class="ui-g-12">
                          <p-radioButton name="{{child.fieldName}}" value="{{v.Value}}" label="{{v.Label}}"
                            formControlName="{{child.columnID}}" [required]="child.required"></p-radioButton>
                        </div>

                      </div>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div *ngIf="child.fieldType=='button'" class="btn-cont">

                      <input type="submit" value="{{child.fieldName}}" class="btn commonbutton"
                        id="{{child.fieldName}}">
                    </div>

                    <div *ngIf="child.fieldType=='file'">
                      <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label>
                      <input type="file" class="displayblk" (change)="onSelectFile($event,child.columnID,form)"
                        placeholder="{{child.placeholder}}">
                      <a style="cursor: pointer;color:blue"
                        (click)="DownLoadFiles(child.fieldName,form.get(child.columnID).value)">{{form.get(child.columnID).value  | splitValue}}</a>
                      <input type="hidden" [formControlName]="child.columnID">
                    </div>

                    <div *ngIf="child.fieldType=='sign'">
                      <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label><br>
                      <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                      (onEndEvent)="drawComplete(signatureCanvas,child.columnID)"></signature-pad><br>
                      <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                      <img [src]="form.get(child.columnID).value" width="50%">
                    </div>

                    <div *ngIf="child.fieldType=='Editor'">
                      <!-- <app-dynamic-form (messageEvent)="receiveMessage($event)"></app-dynamic-form> -->
                    <div [innerHTML]="child.placeholder"></div>
                     
                    </div>
                  </div>
                  <div *ngFor="let child of item.children2" [ngClass]="item.className">


                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='text'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='email'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='phone'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="text" [formControlName]="child.columnID" [name]="child.columnID"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='number'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        class="form-control cshadow" [placeholder]="child.placeholder" min="0"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='textarea'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>


                      <textarea class="form-control cshadow" [formControlName]="child.columnID" [name]="child.columnID"
                        [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength">
      </textarea>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='paragraph'">

                      <p class="form-text wordwrap"
                        [ngClass]="{'center':child.Alignment=='center','justify':child.Alignment=='justify','right':child.Alignment=='right','end':child.Alignment=='end','left':item.Alignment=='left'}">
                        {{child.placeholder}}</p>
                    </div>

                    <div class="form-group" *ngIf="child.fieldType=='hrLine'">
                      <hr>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='date'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>


                      <!-- <div class="input-group">
            <input  class="form-control" placeholder="yyyy-mm-dd" name="dp2" ngbDatepicker #d2="ngbDatepicker" autocomplete="false"
            [formControlName]="child.columnID"   [required]="child.required"  >
          <div class="input-group-append">
            <button class="btn btn-outline-secondary calendar" (click)="d2.toggle()" type="button"></button>
          </div>
        </div> -->


                      <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}"
                        [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030" [minDate]="MinDate"
                        [maxDate]="MaxDate" [touchUI]="false" dateFormat="yy-mm-dd"
                        (onSelect)="ondatechange($event,child.columnID,child.fieldId,child)" [required]="child.required">
                      </p-calendar>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='time'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>
                      <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>

                      <!-- <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}" [timeOnly]="true"
                        (onSelect)="ontimechange($event,child.columnID,child)" [required]="child.required"></p-calendar> -->
                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='checkbox'">
                      <br>
                      <p-checkbox name="{{child.fieldName}}" formControlName="{{child.columnID}}"
                        label="{{child.fieldName}}" binary="true"></p-checkbox>
                      <!-- <input type="checkbox" formControlName="{{child.columnID}}" >
                  Floor QA Check & approval  -->
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='select'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <select class="form-control cshadow" [formControlName]="child.columnID"
                        [required]="child.required" [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right"
                        [appendTo]="container"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors}">
                        <option value="0" selected disabled>--Select--</option>
                        <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
                      </select>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.defaultSelect">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='radio'">
                      <div> <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                          class="text-danger">*</label></div>
                      <div
                        [ngClass]="{'horizontal':child.displaytype=='horizontal','vertical':child.displaytype=='vertical'}"
                        *ngFor="let v of child.values" class="inline-form-group">
                        <div class="ui-g-12">
                          <p-radioButton name="{{child.fieldName}}" value="{{v.Value}}" label="{{v.Label}}"
                            formControlName="{{child.columnID}}" [required]="child.required"></p-radioButton>
                        </div>

                      </div>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div *ngIf="child.fieldType=='button'" class="btn-cont">

                      <input type="submit" value="{{child.fieldName}}" class="btn commonbutton"
                        id="{{child.fieldName}}">
                    </div>
                    <div *ngIf="child.fieldType=='file'">
                      <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label>
                      <input type="file" class="displayblk" (change)="onSelectFile($event,child.columnID,form)"
                        placeholder="{{child.placeholder}}">
                      <a style="cursor: pointer;color:blue"
                        (click)="DownLoadFiles(child.fieldName,form.get(child.columnID).value)">{{form.get(child.columnID).value  | splitValue}}</a>
                      <input type="hidden" [formControlName]="child.columnID">
                    </div>

                    <div *ngIf="child.fieldType=='sign'">
                      <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label><br>
                      <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                      (onEndEvent)="drawComplete(signatureCanvas,child.columnID)"></signature-pad><br>
                      <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                      <img [src]="form.get(child.columnID).value" width="50%">
                    </div>
                    <div *ngIf="child.fieldType=='Editor'">
                      <!-- <app-dynamic-form (messageEvent)="receiveMessage($event)"></app-dynamic-form> -->
                  <div [innerHTML]="child.placeholder"></div>
                     <div [innerHTML]="theHtmlString"></div> 
                    </div>

                  </div>
                  <div *ngFor="let child of item.children3" [ngClass]="item.className">


                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='text'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='email'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='phone'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="text" [formControlName]="child.columnID" [name]="child.columnID"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='number'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        class="form-control cshadow" [placeholder]="child.placeholder" min="0"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='textarea'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>


                      <textarea class="form-control cshadow " [formControlName]="child.columnID" [name]="child.columnID"
                        [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength">
  </textarea>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='paragraph'">

                      <div
                        [ngClass]="{'center':child.Alignment=='center','justify':child.Alignment=='justify','right':child.Alignment=='right','end':child.Alignment=='end','left':item.Alignment=='left'}">
                        <p class="form-text wordwrap">{{child.placeholder}}</p>
                      </div>
                    </div>

                    <div class="form-group" *ngIf="child.fieldType=='hrLine'">
                      <hr>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='date'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>


                      <!-- <div class="input-group">
        <input  class="form-control" placeholder="yyyy-mm-dd" name="dp2" ngbDatepicker #d2="ngbDatepicker" autocomplete="false"
        [formControlName]="child.columnID"   [required]="child.required"  >
      <div class="input-group-append">
        <button class="btn btn-outline-secondary calendar" (click)="d2.toggle()" type="button"></button>
      </div>
    </div> -->


                      <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}"
                        [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030" [minDate]="MinDate"
                        [maxDate]="MaxDate" [touchUI]="false" dateFormat="yy-mm-dd"
                        (onSelect)="ondatechange($event,child.columnID,child.fieldId,child)" [required]="child.required">
                      </p-calendar>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='time'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>
                      <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>

                      <!-- <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}" [timeOnly]="true"
                        (onSelect)="ontimechange($event,child.columnID,child)" [required]="child.required"></p-calendar> -->

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='checkbox'">
                      <br>
                      <p-checkbox name="{{child.fieldName}}" formControlName="{{child.columnID}}"
                        label="{{child.fieldName}}" binary="true"></p-checkbox>
                      <!-- <input type="checkbox" formControlName="{{child.columnID}}" >
              Floor QA Check & approval  -->
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='select'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <select class="form-control cshadow" [formControlName]="child.columnID"
                        [required]="child.required" [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right"
                        [appendTo]="container"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors}">
                        <option value="0" selected disabled>--Select--</option>
                        <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
                      </select>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.defaultSelect">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='radio'">
                      <div> <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                          class="text-danger">*</label></div>

                      <div
                        [ngClass]="{'horizontal':child.displaytype=='horizontal','vertical':child.displaytype=='vertical'}"
                        *ngFor="let v of child.values" class="inline-form-group">
                        <div class="ui-g-12">
                          <p-radioButton name="{{child.fieldName}}" value="{{v.Value}}" label="{{v.Label}}"
                            formControlName="{{child.columnID}}" [required]="child.required"></p-radioButton>
                        </div>

                      </div>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div *ngIf="child.fieldType=='button'" class="btn-cont">

                      <input type="submit" value="{{child.fieldName}}" class="btn commonbutton"
                        id="{{child.fieldName}}">
                    </div>

                    <div *ngIf="child.fieldType=='file'">
                      <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label>
                      <input type="file" class="displayblk" (change)="onSelectFile($event,child.columnID,form)"
                        placeholder="{{child.placeholder}}">
                      <a style="cursor: pointer;color:blue"
                        (click)="DownLoadFiles(child.fieldName,form.get(child.columnID).value)">{{form.get(child.columnID).value  | splitValue}}</a>
                      <input type="hidden" [formControlName]="child.columnID">
                    </div>

                    <div *ngIf="child.fieldType=='sign'">
                      <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label><br>
                      <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                      (onEndEvent)="drawComplete(signatureCanvas,child.columnID)"></signature-pad><br>
                      <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                      <img [src]="form.get(child.columnID).value" width="50%">
                    </div>

                    <div *ngIf="child.fieldType=='Editor'">
                      <!-- <app-dynamic-form (messageEvent)="receiveMessage($event)"></app-dynamic-form> -->
                  <div [innerHTML]="child.placeholder"></div>
                     <div [innerHTML]="theHtmlString"></div> 
                    </div>

                  </div>
                  <div *ngFor="let child of item.children4" [ngClass]="item.className">


                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='text'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='email'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='phone'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="text" [formControlName]="child.columnID" [name]="child.columnID"
                        class="form-control cshadow" [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='number'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <input [type]="child.fieldType" [formControlName]="child.columnID" [name]="child.columnID"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        class="form-control cshadow" [placeholder]="child.placeholder" min="0"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength"
                        [pattern]="child.regex">

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.pattern">{{child.fieldName}} is not valid</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='textarea'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>


                      <textarea class="form-control cshadow" [formControlName]="child.columnID" [name]="child.columnID"
                        [placeholder]="child.placeholder"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors }"
                        [required]="child.required" [minlength]="child.minLength" [maxlength]="child.maxLength">
  </textarea>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                        <div *ngIf="form.get(child.columnID).errors.minlength">Minimum length is {{child.minLength}}
                        </div>
                        <div *ngIf="form.get(child.columnID).errors.maxLength">Maximum length is {{child.minLength}}
                        </div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='paragraph'">

                      <p class="form-text wordwrap"
                        [ngClass]="{'center':child.Alignment=='center','justify':child.Alignment=='justify','right':child.Alignment=='right','end':child.Alignment=='end','left':item.Alignment=='left'}">
                        {{child.placeholder}}</p>
                    </div>

                    <div class="form-group" *ngIf="child.fieldType=='hrLine'">
                      <hr>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='date'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>


                      <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}"
                        [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030" [minDate]="MinDate"
                        [maxDate]="MaxDate" [touchUI]="false" dateFormat="yy-mm-dd"
                        (onSelect)="ondatechange($event,child.columnID,child.fieldId,child)" [required]="child.required">
                      </p-calendar>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>

                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='time'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>
                      <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>
                      <!-- <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}" [timeOnly]="true"
                        (onSelect)="ontimechange($event,child.columnID,child)" [required]="child.required"></p-calendar> -->
                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='checkbox'">
                      <br>
                      <p-checkbox name="{{child.fieldName}}" formControlName="{{child.columnID}}"
                        label="{{child.fieldName}}" binary="true" [required]="child.required"></p-checkbox>
                      <!-- <input type="checkbox" formControlName="{{child.columnID}}" >
              Floor QA Check & approval  -->
                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='select'">
                      <label>{{child.fieldName}}</label> <label *ngIf="child.required" class="text-danger">*</label>

                      <select class="form-control cshadow" [formControlName]="child.columnID"
                        [required]="child.required" [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right"
                        [appendTo]="container"
                        (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child) : false"
                        [ngClass]="{ 'is-invalid': submitted && form.get(child.columnID).errors}">
                        <option value="0" selected disabled>--Select--</option>
                        <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
                      </select>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.defaultSelect">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='radio'">
                      <div> <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                          class="text-danger">*</label></div>

                      <div
                        [ngClass]="{'horizontal':child.displaytype=='horizontal','vertical':child.displaytype=='vertical'}"
                        *ngFor="let v of child.values" class="inline-form-group">
                        <div class="ui-g-12">
                          <p-radioButton name="{{child.fieldName}}" value="{{v.Value}}" label="{{v.Label}}"
                            formControlName="{{child.columnID}}" [required]="child.required"></p-radioButton>
                        </div>

                      </div>

                      <div class="error" *ngIf="submitted && form.get(child.columnID).errors">
                        <div *ngIf="form.get(child.columnID).errors.required">{{child.fieldName}} is required</div>
                      </div>
                    </div>
                    <div *ngIf="child.fieldType=='button'" class="btn-cont">

                      <input type="submit" value="{{child.fieldName}}" class="btn commonbutton"
                        id="{{child.fieldName}}">
                    </div>
                    <div *ngIf="child.fieldType=='file'">
                      <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label>
                      <input type="file" class="displayblk" (change)="onSelectFile($event,child.columnID,form)"
                        placeholder="{{child.placeholder}}">
                      <a style="cursor: pointer;color:blue"
                        (click)="DownLoadFiles(child.fieldName,form.get(child.columnID).value)">{{form.get(child.columnID).value  | splitValue}}</a>
                      <input type="hidden" [formControlName]="child.columnID">
                    </div>

                    <div *ngIf="child.fieldType=='sign'">
                      <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label><br>
                      <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                      (onEndEvent)="drawComplete(signatureCanvas,child.columnID)"></signature-pad><br>
                      <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                      <img [src]="form.get(child.columnID).value" width="50%">
                    </div>

                    <div *ngIf="child.fieldType=='Editor'">
                      <!-- <app-dynamic-form (messageEvent)="receiveMessage($event)"></app-dynamic-form> -->
                  <div [innerHTML]="child.placeholder"></div>
                     <div [innerHTML]="theHtmlString"></div> 
                    </div>
                  </div>
                 </div>

                <div *ngIf="item.fieldType=='divSection' && item.multiple==true">
                  <div class="col-lg-12" class="multirow">

                    <!-- <button type="button"  class="btn commonbutton">Add new</button> -->
                    <div [formArrayName]="item.columnID"
                      *ngFor="let childForm of form.get(item.columnID).controls; let i = index;">


                      <!-- let X of form['controls'].[item.columnID].['controls'] -->
                      <div class="col-lg-12">
                        <div [formGroupName]="i" class="row innermultirow">

                          <div class="col-lg-1"> <i class="fa fa-times-circle-o" (click)="deleteValues(item,i)"
                              aria-hidden="true" style="font-size: 30px;    padding-top: 10px;"></i></div>
                          <div class="col-lg-11">
                            <div #container class="row ">
                              <div [ngClass]="item.className">
                                <div *ngFor="let child of item.children">


                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='text'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right"
                                      [appendTo]="container" class="form-control cshadow"
                                      [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='email'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID" [pTooltip]="child.sop" tooltipPosition="top"
                                      placeholder="Right" [appendTo]="container" class="form-control cshadow"
                                      [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='phone'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="text" [formControlName]="child.columnID" [name]="child.columnID"
                                      class="form-control cshadow" [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='number'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      class="form-control cshadow" [placeholder]="child.placeholder" min="0"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='textarea'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>


                                    <textarea class="form-control cshadow" [formControlName]="child.columnID"
                                      [name]="child.columnID" [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength">
                               </textarea>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='paragraph'">

                                    <p class="form-text wordwrap"
                                      [ngClass]="{'center':child.Alignment=='center','justify':child.Alignment=='justify','right':child.Alignment=='right','end':child.Alignment=='end','left':item.Alignment=='left'}">
                                      {{child.placeholder}}</p>
                                  </div>

                                  <div class="form-group" *ngIf="child.fieldType=='hrLine'">
                                    <hr>
                                  </div>

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='date'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>


                                    <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}"
                                      [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030"
                                      [minDate]="MinDate" [maxDate]="MaxDate" [touchUI]="false" dateFormat="yy-mm-dd"
                                      (onSelect)="ondatechange($event,child.columnID,child.fieldId,child)"
                                      [required]="child.required">
                                    </p-calendar>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='time'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                      <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>

                                    <!-- <p-calendar formControlName="{{child.columnID}}" [timeOnly]="true"
                                      (onSelect)="ontimechange($event,child.columnID,child)" [required]="child.required"
                                      class="form-control cshadow"></p-calendar> -->
                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='checkbox'">
                                    <br>
                                    <p-checkbox name="{{child.fieldName}}" formControlName="{{child.columnID}}"
                                      label="{{child.fieldName}}" binary="true" [required]="child.required">
                                    </p-checkbox>
                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='select'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <select class="form-control cshadow" [formControlName]="child.columnID"
                                      [required]="child.required" [pTooltip]="child.sop" tooltipPosition="top"
                                      placeholder="Right" [appendTo]="container"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors}">
                                      <option value="0" selected disabled>--Select--</option>
                                      <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
                                    </select>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.defaultSelect">
                                        {{child.fieldName}} is required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='radio'">
                                    <div> <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                        class="text-danger">*</label></div>

                                    <div
                                      [ngClass]="{'horizontal':child.displaytype=='horizontal','vertical':child.displaytype=='vertical'}"
                                      *ngFor="let v of child.values" class="inline-form-group">
                                      <div class="ui-g-12">
                                        <p-radioButton name="{{child.fieldName}}" value="{{v.Value}}"
                                          label="{{v.Label}}" formControlName="{{child.columnID}}"
                                          [required]="child.required"></p-radioButton>
                                      </div>

                                    </div>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div *ngIf="child.fieldType=='button'" class="btn-cont">

                                    <input type="button" value="{{child.fieldName}}" class="btn commonbutton"
                                      id="{{child.fieldName}}" (click)="addValues(item)">
                                  </div>

                                  <div *ngIf="child.fieldType=='file'">
                                    <label>{{child.fieldName}} </label> <label *ngIf="child.required"
                                      class="text-danger">*</label>
                                    <input type="file" class="displayblk" (change)="onSelectFile($event,child.columnID,childForm)"
                                      placeholder="{{child.placeholder}}">
                                    <a style="cursor: pointer;color:blue"
                                      (click)="DownLoadFiles(child.fieldName,childForm.get(child.columnID).value)">{{childForm.get(child.columnID).value  | splitValue}}</a>
                                    <input type="hidden" [formControlName]="child.columnID" [name]="child.columnID">
                                  </div>
                                  <div *ngIf="child.fieldType=='sign'">
                                    <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label><br>
                                    <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                                    (onEndEvent)="drawchildComplete(signatureCanvas,child.columnID,item.columnID,i)"></signature-pad><br>
                                    <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                                    <img [src]="childForm.get(child.columnID).value" width="50%">
                                  </div>

                                </div>
                              </div>

                              <div [ngClass]="item.className">
                                <div *ngFor="let child of item.children1">


                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='text'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right"
                                      [appendTo]="container" class="form-control cshadow"
                                      [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='email'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID" [pTooltip]="child.sop" tooltipPosition="top"
                                      placeholder="Right" [appendTo]="container" class="form-control cshadow"
                                      [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='phone'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="text" [formControlName]="child.columnID" [name]="child.columnID"
                                      class="form-control cshadow" [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='number'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      class="form-control cshadow" [placeholder]="child.placeholder" min="0"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='textarea'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>


                                    <textarea class="form-control cshadow" [formControlName]="child.columnID"
                                      [name]="child.columnID" [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength">
                               </textarea>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='paragraph'">

                                    <p class="form-text wordwrap"
                                      [ngClass]="{'center':child.Alignment=='center','justify':child.Alignment=='justify','right':child.Alignment=='right','end':child.Alignment=='end','left':item.Alignment=='left'}">
                                      {{child.placeholder}}</p>
                                  </div>

                                  <div class="form-group" *ngIf="child.fieldType=='hrLine'">
                                    <hr>
                                  </div>

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='date'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>


                                    <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}"
                                      [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030"
                                      [minDate]="MinDate" [maxDate]="MaxDate" [touchUI]="false" dateFormat="yy-mm-dd"
                                      (onSelect)="ondatechange($event,child.columnID,child.fieldId,child)"
                                      [required]="child.required">
                                    </p-calendar>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='time'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>
                                      <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>

                                    <!-- <p-calendar formControlName="{{child.columnID}}" [timeOnly]="true"
                                      (onSelect)="ontimechange($event,child.columnID,child)" [required]="child.required"
                                      class="form-control cshadow"></p-calendar> -->
                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='checkbox'">
                                    <br>
                                    <p-checkbox name="{{child.fieldName}}" formControlName="{{child.columnID}}"
                                      label="{{child.fieldName}}" binary="true" [required]="child.required">
                                    </p-checkbox>
                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='select'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <select class="form-control cshadow" [formControlName]="child.columnID"
                                      [required]="child.required" [pTooltip]="child.sop" tooltipPosition="top"
                                      placeholder="Right" [appendTo]="container"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors}">
                                      <option value="0" selected disabled>--Select--</option>
                                      <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
                                    </select>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.defaultSelect">
                                        {{child.fieldName}} is required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='radio'">
                                    <div> <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                        class="text-danger">*</label></div>

                                    <div
                                      [ngClass]="{'horizontal':child.displaytype=='horizontal','vertical':child.displaytype=='vertical'}"
                                      *ngFor="let v of child.values" class="inline-form-group">
                                      <div class="ui-g-12">
                                        <p-radioButton name="{{child.fieldName}}" value="{{v.Value}}"
                                          label="{{v.Label}}" formControlName="{{child.columnID}}"
                                          [required]="child.required"></p-radioButton>
                                      </div>

                                    </div>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div *ngIf="child.fieldType=='button'" class="btn-cont">

                                    <input type="button" value="{{child.fieldName}}" class="btn commonbutton"
                                      id="{{child.fieldName}}" (click)="addValues(item)">
                                  </div>

                                  <div *ngIf="child.fieldType=='file'">
                                    <label>{{child.fieldName}} </label> <label *ngIf="child.required"
                                      class="text-danger">*</label>
                                    <input type="file" class="displayblk" (change)="onSelectFile($event,child.columnID,childForm)"
                                      placeholder="{{child.placeholder}}">
                                    <a style="cursor: pointer;color:blue"
                                      (click)="DownLoadFiles(child.fieldName,childForm.get(child.columnID).value)">{{childForm.get(child.columnID).value  | splitValue}}</a>
                                    <input type="hidden" [formControlName]="child.columnID" [name]="child.columnID">
                                  </div>
                                  <div *ngIf="child.fieldType=='sign'">
                                    <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label><br>
                                    <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                                    (onEndEvent)="drawchildComplete(signatureCanvas,child.columnID,item.columnID,i)"></signature-pad><br>
                                    <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                                    <img [src]="childForm.get(child.columnID).value" width="50%">
                                  </div>
                                </div>
                              </div>
                              <div [ngClass]="item.className">
                                <div *ngFor="let child of item.children2">

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='text'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right"
                                      [appendTo]="container" class="form-control cshadow"
                                      [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='email'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID" [pTooltip]="child.sop" tooltipPosition="top"
                                      placeholder="Right" [appendTo]="container" class="form-control cshadow"
                                      [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='phone'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="text" [formControlName]="child.columnID" [name]="child.columnID"
                                      class="form-control cshadow" [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='number'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      class="form-control cshadow" [placeholder]="child.placeholder" min="0"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='textarea'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>


                                    <textarea class="form-control cshadow" [formControlName]="child.columnID"
                                      [name]="child.columnID" [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength">
                               </textarea>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='paragraph'">

                                    <p class="form-text wordwrap"
                                      [ngClass]="{'center':child.Alignment=='center','justify':child.Alignment=='justify','right':child.Alignment=='right','end':child.Alignment=='end','left':item.Alignment=='left'}">
                                      {{child.placeholder}}</p>
                                  </div>

                                  <div class="form-group" *ngIf="child.fieldType=='hrLine'">
                                    <hr>
                                  </div>

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='date'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>


                                    <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}"
                                      [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030"
                                      [minDate]="MinDate" [maxDate]="MaxDate" [touchUI]="false" dateFormat="yy-mm-dd"
                                      (onSelect)="ondatechange($event,child.columnID,child.fieldId,child)"
                                      [required]="child.required">
                                    </p-calendar>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='time'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>
                                      <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>

                                    <!-- <p-calendar formControlName="{{child.columnID}}" [timeOnly]="true"
                                      (onSelect)="ontimechange($event,child.columnID,child)" [required]="child.required"
                                      class="form-control cshadow"></p-calendar> -->
                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='checkbox'">
                                    <br>
                                    <p-checkbox name="{{child.fieldName}}" formControlName="{{child.columnID}}"
                                      label="{{child.fieldName}}" binary="true" [required]="child.required">
                                    </p-checkbox>
                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='select'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <select class="form-control cshadow" [formControlName]="child.columnID"
                                      [required]="child.required" [pTooltip]="child.sop" tooltipPosition="top"
                                      placeholder="Right" [appendTo]="container"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors}">
                                      <option value="0" selected disabled>--Select--</option>
                                      <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
                                    </select>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.defaultSelect">
                                        {{child.fieldName}} is required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='radio'">
                                    <div> <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                        class="text-danger">*</label></div>

                                    <div
                                      [ngClass]="{'horizontal':child.displaytype=='horizontal','vertical':child.displaytype=='vertical'}"
                                      *ngFor="let v of child.values" class="inline-form-group">
                                      <div class="ui-g-12">
                                        <p-radioButton name="{{child.fieldName}}" value="{{v.Value}}"
                                          label="{{v.Label}}" formControlName="{{child.columnID}}"
                                          [required]="child.required"></p-radioButton>
                                      </div>

                                    </div>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div *ngIf="child.fieldType=='button'" class="btn-cont">

                                    <input type="button" value="{{child.fieldName}}" class="btn commonbutton"
                                      id="{{child.fieldName}}" (click)="addValues(item)">
                                  </div>

                                  <div *ngIf="child.fieldType=='file'">
                                    <label>{{child.fieldName}} </label> <label *ngIf="child.required"
                                      class="text-danger">*</label>
                                    <input type="file" class="displayblk" (change)="onSelectFile($event,child.columnID,childForm)"
                                      placeholder="{{child.placeholder}}">
                                    <a style="cursor: pointer;color:blue"
                                      (click)="DownLoadFiles(child.fieldName,childForm.get(child.columnID).value)">{{childForm.get(child.columnID).value  | splitValue}}</a>
                                    <input type="hidden" [formControlName]="child.columnID" [name]="child.columnID">
                                  </div>
                                  <div *ngIf="child.fieldType=='sign'">
                                    <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label><br>
                                    <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                                    (onEndEvent)="drawchildComplete(signatureCanvas,child.columnID,item.columnID,i)"></signature-pad><br>
                                    <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                                    <img [src]="childForm.get(child.columnID).value" width="50%">
                                  </div>

                                </div>
                              </div>
                              <div [ngClass]="item.className">
                                <div *ngFor="let child of item.children3">


                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='text'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right"
                                      [appendTo]="container" class="form-control cshadow"
                                      [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='email'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID" [pTooltip]="child.sop" tooltipPosition="top"
                                      placeholder="Right" [appendTo]="container" class="form-control cshadow"
                                      [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='phone'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="text" [formControlName]="child.columnID" [name]="child.columnID"
                                      class="form-control cshadow" [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='number'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      class="form-control cshadow" [placeholder]="child.placeholder" min="0"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='textarea'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>


                                    <textarea class="form-control cshadow" [formControlName]="child.columnID"
                                      [name]="child.columnID" [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength">
                               </textarea>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='paragraph'">

                                    <p class="form-text wordwrap"
                                      [ngClass]="{'center':child.Alignment=='center','justify':child.Alignment=='justify','right':child.Alignment=='right','end':child.Alignment=='end','left':item.Alignment=='left'}">
                                      {{child.placeholder}}</p>
                                  </div>

                                  <div class="form-group" *ngIf="child.fieldType=='hrLine'">
                                    <hr>
                                  </div>

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='date'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>


                                    <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}"
                                      [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030"
                                      [minDate]="MinDate" [maxDate]="MaxDate" [touchUI]="false" dateFormat="yy-mm-dd"
                                      (onSelect)="ondatechange($event,child.columnID,child.fieldId,child)"
                                      [required]="child.required">
                                    </p-calendar>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='time'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                      <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>

                                    <!-- <p-calendar formControlName="{{child.columnID}}" [timeOnly]="true"
                                      (onSelect)="ontimechange($event,child.columnID,child)" [required]="child.required"
                                      class="form-control cshadow"></p-calendar> -->
                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='checkbox'">
                                    <br>
                                    <p-checkbox name="{{child.fieldName}}" formControlName="{{child.columnID}}"
                                      label="{{child.fieldName}}" binary="true" [required]="child.required">
                                    </p-checkbox>
                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='select'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <select class="form-control cshadow" [formControlName]="child.columnID"
                                      [required]="child.required" [pTooltip]="child.sop" tooltipPosition="top"
                                      placeholder="Right" [appendTo]="container"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors}">
                                      <option value="0" selected disabled>--Select--</option>
                                      <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
                                    </select>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.defaultSelect">
                                        {{child.fieldName}} is required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='radio'">
                                    <div> <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                        class="text-danger">*</label></div>

                                    <div
                                      [ngClass]="{'horizontal':child.displaytype=='horizontal','vertical':child.displaytype=='vertical'}"
                                      *ngFor="let v of child.values" class="inline-form-group">
                                      <div class="ui-g-12">
                                        <p-radioButton name="{{child.fieldName}}" value="{{v.Value}}"
                                          label="{{v.Label}}" formControlName="{{child.columnID}}"
                                          [required]="child.required"></p-radioButton>
                                      </div>

                                    </div>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div *ngIf="child.fieldType=='button'" class="btn-cont">

                                    <input type="button" value="{{child.fieldName}}" class="btn commonbutton"
                                      id="{{child.fieldName}}" (click)="addValues(item)">
                                  </div>

                                  <div *ngIf="child.fieldType=='file'">
                                    <label>{{child.fieldName}} </label> <label *ngIf="child.required"
                                      class="text-danger">*</label>
                                    <input type="file" class="displayblk" (change)="onSelectFile($event,child.columnID,childForm)"
                                      placeholder="{{child.placeholder}}">
                                    <a style="cursor: pointer;color:blue"
                                      (click)="DownLoadFiles(child.fieldName,childForm.get(child.columnID).value)">{{childForm.get(child.columnID).value  | splitValue}}</a>
                                    <input type="hidden" [formControlName]="child.columnID">
                                  </div>
                                  <div *ngIf="child.fieldType=='sign'">
                                    <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label><br>
                                    <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                                    (onEndEvent)="drawchildComplete(signatureCanvas,child.columnID,item.columnID,i)"></signature-pad><br>
                                    <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                                    <img [src]="childForm.get(child.columnID).value" width="50%">
                                  </div>
                                </div>
                              </div>
                              <div [ngClass]="item.className">
                                <div *ngFor="let child of item.children4">


                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='text'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      [pTooltip]="child.sop" tooltipPosition="top" placeholder="Right"
                                      [appendTo]="container" class="form-control cshadow"
                                      [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='email'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID" [pTooltip]="child.sop" tooltipPosition="top"
                                      placeholder="Right" [appendTo]="container" class="form-control cshadow"
                                      [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='phone'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="text" [formControlName]="child.columnID" [name]="child.columnID"
                                      class="form-control cshadow" [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='number'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <input [type]="child.fieldType" [formControlName]="child.columnID"
                                      [name]="child.columnID"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      class="form-control cshadow" [placeholder]="child.placeholder" min="0"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength" [pattern]="child.regex">

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.pattern">{{child.fieldName}} is
                                        not valid</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='textarea'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>


                                    <textarea class="form-control cshadow" [formControlName]="child.columnID"
                                      [name]="child.columnID" [placeholder]="child.placeholder"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors }"
                                      [required]="child.required" [minlength]="child.minLength"
                                      [maxlength]="child.maxLength">
                               </textarea>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.minlength">Minimum length is
                                        {{child.minLength}}</div>
                                      <div *ngIf="childForm.get(child.columnID).errors.maxLength">Maximum length is
                                        {{child.minLength}}</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='paragraph'">

                                    <p class="form-text wordwrap" [ngClass]="{'center':child.Alignment=='center','justify':child.Alignment=='justify','right':child.Alignment=='right','end':child.Alignment=='end','left':item.Alignment=='left'}">{{child.placeholder}}</p>
                                  </div>

                                  <div class="form-group" *ngIf="child.fieldType=='hrLine'">
                                    <hr>
                                  </div>

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='date'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>


                                    <p-calendar class="form-control cshadow" formControlName="{{child.columnID}}"
                                      [monthNavigator]="true" [yearNavigator]="true" yearRange="2000:2030"
                                      [minDate]="MinDate" [maxDate]="MaxDate" [touchUI]="false" dateFormat="yy-mm-dd"
                                      (onSelect)="ondatechange($event,child.columnID,child.fieldId,child)"
                                      [required]="child.required">
                                    </p-calendar>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>

                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='time'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                      <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>

                                    <!-- <p-calendar formControlName="{{child.columnID}}" [timeOnly]="true"
                                      (onSelect)="ontimechange($event,child.columnID,child)" [required]="child.required"
                                      class="form-control cshadow"></p-calendar> -->
                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='checkbox'">
                                    <br>
                                    <p-checkbox name="{{child.fieldName}}" formControlName="{{child.columnID}}"
                                      label="{{child.fieldName}}" binary="true" [required]="child.required">
                                    </p-checkbox>
                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='select'">
                                    <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                      class="text-danger">*</label>

                                    <select class="form-control cshadow" [formControlName]="child.columnID"
                                      [required]="child.required" [pTooltip]="child.sop" tooltipPosition="top"
                                      placeholder="Right" [appendTo]="container"
                                      (change)="child.inputType != 'Normal' ? OnchangeFn($event.target.value,child.columnID,0,child,item.columnID,i) : false"
                                      [ngClass]="{ 'is-invalid': submitted && childForm.get(child.columnID).errors}">
                                      <option value="0" selected disabled>--Select--</option>
                                      <option *ngFor="let v of child.values" [value]="v.Value">{{v.Label}}</option>
                                    </select>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.defaultSelect">
                                        {{child.fieldName}} is required</div>
                                    </div>
                                  </div>
                                  <div class="form-group" [hidden]="child.visible" *ngIf="child.fieldType=='radio'">
                                    <div> <label>{{child.fieldName}}</label> <label *ngIf="child.required"
                                        class="text-danger">*</label></div>

                                    <div
                                      [ngClass]="{'horizontal':child.displaytype=='horizontal','vertical':child.displaytype=='vertical'}"
                                      *ngFor="let v of child.values" class="inline-form-group">
                                      <div class="ui-g-12">
                                        <p-radioButton name="{{child.fieldName}}" value="{{v.Value}}"
                                          label="{{v.Label}}" formControlName="{{child.columnID}}"
                                          [required]="child.required"></p-radioButton>
                                      </div>

                                    </div>

                                    <div class="error" *ngIf="submitted && childForm.get(child.columnID).errors">
                                      <div *ngIf="childForm.get(child.columnID).errors.required">{{child.fieldName}} is
                                        required</div>
                                    </div>
                                  </div>
                                  <div *ngIf="child.fieldType=='button'" class="btn-cont">

                                    <input type="button" value="{{child.fieldName}}" class="btn commonbutton"
                                      id="{{child.fieldName}}" (click)="addValues(item)">
                                  </div>

                                  <div *ngIf="child.fieldType=='file'">
                                    <label>{{child.fieldName}} </label> <label *ngIf="child.required"
                                      class="text-danger">*</label>
                                    <input type="file" class="displayblk" (change)="onSelectFile($event,child.columnID,childForm)"
                                      placeholder="{{child.placeholder}}">
                                    <a style="cursor: pointer;color:blue"
                                      (click)="DownLoadFiles(child.fieldName,childForm.get(child.columnID).value)">{{childForm.get(child.columnID).value  | splitValue}}</a>
                                    <input type="hidden" [formControlName]="child.columnID">
                                  </div>

                                  <div *ngIf="child.fieldType=='sign'">
                                    <label>{{child.fieldName}} </label> <label *ngIf="child.required" class="text-danger">*</label><br>
                                    <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                                    (onEndEvent)="drawchildComplete(signatureCanvas,child.columnID,item.columnID,i)"></signature-pad><br>
                                    <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                                    <img [src]="childForm.get(child.columnID).value" width="50%">
                                  </div>

                                </div>

                              </div>

                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-12">
                      <i class="fa fa-plus-circle" aria-hidden="true" (click)="addValues(item)"
                        style="font-size: 30px;"></i>
                    </div>
                  </div>
                </div>

                <div *ngIf="item.fieldType!='divSection'">

                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='text'">
                    <label>{{item.fieldName}}</label> <label *ngIf="item.required" class="text-danger">*</label>

                    <input [type]="item.fieldType" [formControlName]="item.columnID" [name]="item.columnID"
                      class="form-control cshadow" [placeholder]="item.placeholder"
                      [ngClass]="{ 'is-invalid': submitted && form.get(item.columnID).errors }"
                      [required]="item.required" [minlength]="item.minLength" [maxlength]="item.maxLength">

                    <div class="error" *ngIf="submitted && form.get(item.columnID).errors">
                      <div *ngIf="form.get(item.columnID).errors.required">{{item.fieldName}} is required</div>
                      <div *ngIf="form.get(item.columnID).errors.minlength">Minimum length is {{item.minLength}}</div>
                      <div *ngIf="form.get(item.columnID).errors.maxLength">Maximum length is {{item.minLength}}</div>
                    </div>
                  </div>
                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='email'">
                    <label>{{item.fieldName}}</label> <label *ngIf="item.required" class="text-danger">*</label>

                    <input [type]="item.fieldType" [formControlName]="item.columnID" [name]="item.columnID"
                      class="form-control cshadow" [placeholder]="item.placeholder"
                      [ngClass]="{ 'is-invalid': submitted && form.get(item.columnID).errors }"
                      [required]="item.required" [minlength]="item.minLength" [maxlength]="item.maxLength"
                      [pattern]="item.regex">

                    <div class="error" *ngIf="submitted && form.get(item.columnID).errors">
                      <div *ngIf="form.get(item.columnID).errors.required">{{item.fieldName}} is required</div>
                      <div *ngIf="form.get(item.columnID).errors.minlength">Minimum length is {{item.minLength}}</div>
                      <div *ngIf="form.get(item.columnID).errors.maxLength">Maximum length is {{item.minLength}}</div>
                      <div *ngIf="form.get(item.columnID).errors.pattern">{{item.fieldName}} is not valid</div>
                    </div>
                  </div>
                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='phone'">
                    <label>{{item.fieldName}}</label> <label *ngIf="item.required" class="text-danger">*</label>

                    <input [type]="text" [formControlName]="item.columnID" [name]="item.columnID"
                      class="form-control cshadow" [placeholder]="item.placeholder"
                      [ngClass]="{ 'is-invalid': submitted && form.get(item.columnID).errors }"
                      [required]="item.required" [minlength]="item.minLength" [maxlength]="item.maxLength"
                      [pattern]="item.regex">

                    <div class="error" *ngIf="submitted && form.get(item.columnID).errors">
                      <div *ngIf="form.get(item.columnID).errors.required">{{item.fieldName}} is required</div>
                      <div *ngIf="form.get(item.columnID).errors.minlength">Minimum length is {{item.minLength}}</div>
                      <div *ngIf="form.get(item.columnID).errors.maxLength">Maximum length is {{item.minLength}}</div>
                      <div *ngIf="form.get(item.columnID).errors.pattern">{{item.fieldName}} is not valid</div>
                    </div>
                  </div>
                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='number'">
                    <label>{{item.fieldName}}</label> <label *ngIf="item.required" class="text-danger">*</label>

                    <input [type]="item.fieldType" [formControlName]="item.columnID" [name]="item.columnID"
                      class="form-control cshadow" [placeholder]="item.placeholder" min="0"
                      [ngClass]="{ 'is-invalid': submitted && form.get(item.columnID).errors }"
                      [required]="item.required" [minlength]="item.minLength" [maxlength]="item.maxLength"
                      [pattern]="item.regex">

                    <div class="error" *ngIf="submitted && form.get(item.columnID).errors">
                      <div *ngIf="form.get(item.columnID).errors.required">{{item.fieldName}} is required</div>
                      <div *ngIf="form.get(item.columnID).errors.minlength">Minimum length is {{item.minLength}}</div>
                      <div *ngIf="form.get(item.columnID).errors.maxLength">Maximum length is {{item.minLength}}</div>
                      <div *ngIf="form.get(item.columnID).errors.pattern">{{item.fieldName}} is not valid</div>
                    </div>
                  </div>
                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='textarea'">
                    <label>{{item.fieldName}}</label> <label *ngIf="item.required" class="text-danger">*</label>


                    <textarea class="form-control cshadow" [formControlName]="item.columnID" [name]="item.columnID"
                      [placeholder]="item.placeholder"
                      [ngClass]="{ 'is-invalid': submitted && form.get(item.columnID).errors }"
                      [required]="item.required" [minlength]="item.minLength" [maxlength]="item.maxLength">
            </textarea>

                    <div class="error" *ngIf="submitted && form.get(item.columnID).errors">
                      <div *ngIf="form.get(item.columnID).errors.required">{{item.fieldName}} is required</div>
                      <div *ngIf="form.get(item.columnID).errors.minlength">Minimum length is {{item.minLength}}</div>
                      <div *ngIf="form.get(item.columnID).errors.maxLength">Maximum length is {{item.minLength}}</div>
                    </div>
                  </div>
                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='paragraph'">

                    <p class="form-text wordwrap" [ngClass]="{'center':item.Alignment=='center','justify':item.Alignment=='justify','right':item.Alignment=='right','end':item.Alignment=='end','left':item.Alignment=='left'}">{{item.placeholder}}</p>
                  </div>
                  <div class="form-group" *ngIf="item.fieldType=='hrLine'">
                    <hr>
                  </div>

                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='date'">
                    <label>{{item.fieldName}}</label> <label *ngIf="item.required" class="text-danger">*</label>


                    <p-calendar class="form-control cshadow" formControlName="{{item.columnID}}" [monthNavigator]="true"
                      [yearNavigator]="true" yearRange="2000:2030" [minDate]="MinDate" [maxDate]="MaxDate"
                      [touchUI]="false" dateFormat="yy-mm-dd"
                      (onSelect)="ondatechange($event,item.columnID,item.fieldId,item)" [required]="item.required">
                    </p-calendar>

                    <div class="error" *ngIf="submitted && form.get(item.columnID).errors">
                      <div *ngIf="form.get(item.columnID).errors.required">{{item.fieldName}} is required</div>
                    </div>
                  </div>

                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='time'">
                    <label>{{item.fieldName}}</label> <label *ngIf="item.required" class="text-danger">*</label>
                    <input class="form-control cshadow" formControlName="{{child.columnID}}" type="text" atp-time-picker value="" changeToMinutes="true"/>
                    <!-- <p-calendar class="form-control cshadow" formControlName="{{item.columnID}}" [timeOnly]="true"
                      (onSelect)="ontimechange($event,item.columnID,item)" [required]="item.required"></p-calendar> -->
                    <div class="error" *ngIf="submitted && form.get(item.columnID).errors">
                      <div *ngIf="form.get(item.columnID).errors.required">{{item.fieldName}} is required</div>
                    </div>
                  </div>
                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='checkbox'">
                    <br>
                    <p-checkbox name="{{item.fieldName}}" formControlName="{{item.columnID}}" label="{{item.fieldName}}"
                      binary="true" [required]="item.required"></p-checkbox>
                    <!-- <input type="checkbox" formControlName="{{item.columnID}}" >
                        Floor QA Check & approval  -->
                    <div class="error" *ngIf="submitted && form.get(item.columnID).errors">
                      <div *ngIf="form.get(item.columnID).errors.required">{{item.fieldName}} is required</div>
                    </div>
                  </div>
                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='select'">
                    <label>{{item.fieldName}}</label> <label *ngIf="item.required" class="text-danger">*</label>

                    <select class="form-control cshadow" [formControlName]="item.columnID" [required]="item.required"
                      [pTooltip]="item.sop" tooltipPosition="top" placeholder="Right" [appendTo]="container"
                      (change)="item.inputType != 'Normal' ? OnchangeFn($event.target.value,item.columnID,0,child) : false"
                      [ngClass]="{ 'is-invalid': submitted && form.get(item.columnID).errors}">
                      <option value="0" selected disabled>--Select--</option>
                      <option *ngFor="let v of item.values" [value]="v.Value">{{v.Label}}</option>
                    </select>

                    <div class="error" *ngIf="submitted && form.get(item.columnID).errors">

                      <div *ngIf="form.get(item.columnID).errors.defaultSelect">{{item.fieldName}} is required</div>
                    </div>
                  </div>
                  <div class="form-group" [hidden]="item.visible" *ngIf="item.fieldType=='radio'">
                    <div> <label>{{item.fieldName}}</label> <label *ngIf="item.required" class="text-danger">*</label>
                    </div>

                    <div
                      [ngClass]="{'horizontal':item.displaytype=='horizontal','vertical':item.displaytype=='vertical'}"
                      *ngFor="let v of item.values" class="inline-form-group">
                      <div class="ui-g-12">
                        <p-radioButton name="{{item.fieldName}}" value="{{v.Value}}" label="{{v.Label}}"
                          formControlName="{{item.columnID}}" [required]="item.required"></p-radioButton>
                      </div>

                    </div>

                    <div class="error" *ngIf="submitted && form.get(item.columnID).errors">
                      <div *ngIf="form.get(item.columnID).errors.required">{{item.fieldName}} is required</div>
                    </div>
                  </div>
                  <div *ngIf="item.fieldType=='button'" class="btn-cont">

                    <input type="submit" value="{{item.fieldName}}" class="btn commonbutton" id="{{item.fieldName}}">
                  </div>

                  <div *ngIf="item.fieldType=='file'">
                    <label>{{item.fieldName}} </label> <label *ngIf="item.required" class="text-danger">*</label>
                    <input type="file" class="displayblk" (change)="onSelectFile($event,item.columnID,form)"
                      placeholder="{{item.placeholder}}">
                    <a style="cursor: pointer;color:blue"
                      (click)="DownLoadFiles(item.fieldName,form.get(item.columnID).value)">{{form.get(item.columnID).value  | splitValue}}</a>
                    <input type="hidden" [formControlName]="item.columnID">
                  </div>

                  <div *ngIf="item.fieldType=='sign'">
                    <label>{{item.fieldName}} </label> <label *ngIf="item.required" class="text-danger">*</label><br>
                    <signature-pad [options]="signaturePadOptions" #signatureCanvas id="signatureCanvas" (onBeginEvent)="drawStart()" 
                    (onEndEvent)="drawComplete(signatureCanvas,item.columnID)"></signature-pad><br>
                    <button type="button" class="btn commonbutton" data-action="clear" (click)="clearPad(signatureCanvas)">Clear</button>
                    <img [src]="form.get(item.columnID).value" width="50%">
                  </div>

                  <div *ngIf="item.fieldType=='Editor'">
                    <!-- <app-dynamic-form (messageEvent)="receiveMessage($event)">/</app-dynamic-form> -->
                <div [innerHTML]="child.placeholder"></div>
                   <div [innerHTML]="theHtmlString"></div> 
                  </div>

                </div>


              </div>

            </div>

          </form>
        </div>
      </div>
    </div>
  </ng-template>



  <ng-template #download let-modal modal-l>
    <div class="modal-header popuphead">
      <h4 class="modal-title popuptitle">{{modulename}}
      </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="container ">
        <div class="col-sm-12">
          <div class="row" style="padding-bottom: 10px;" *ngFor="let item of downloadDetails">

            <label>{{item.FieldName}}</label>&nbsp;&nbsp;&nbsp;
            <a class="btn btn-primary" style="cursor: pointer;"
              (click)="DownLoadFiles(item.FieldName,item.FieldValues)">{{item.FieldValues | splitValue}}</a>

          </div>
        </div>
      </div>
    </div>
  </ng-template>

  <ng-template #history let-modal>
    <div class="modal-header popuphead">
      <h4 class="modal-title popuptitle">{{modulename}}
      </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="container ">
        <div class="col-sm-12">
          <p-table #dt [columns]="selectedColumns1" [value]="cars1" [first]="first" [responsive]="true" [rows]="10"
            sortMode="multiple" [scrollable]="table.Scrollable" scrollHeight="250px"
            [resizableColumns]="table.Resizable" [reorderableColumns]="table.Reorder">
            <ng-template pTemplate="caption">
              <div class="row">

                <div class="col-lg-3 col-sm-4">

                  <div *ngIf="table.ExportButton" class="ui-helper-clearfix" style="text-align: left">
                    <button type="button" class="exportbuttons" icon="pi pi-file-o" iconPos="left"
                      (click)="dt.exportCSV()"><span aria-hidden="true"
                        class="ui-button-icon-left ui-clickable fa fa-files-o"
                        style="font-size: 16px; padding: 8px;"></span></button>

                    <button type="button" class="exportbuttons" icon="pi pi-file-pdf" iconPos="left" label="PDF"
                      (click)="exportPdf()"><span aria-hidden="true"
                        class="ui-button-icon-left ui-clickable fa fa-file-pdf-o"
                        style="font-size: 16px; padding: 8px;"></span></button>
                  </div>
                </div>

                <div class="col-lg-3 col-sm-4">
                  <div *ngIf="table.Multiselect" style="text-align:left">
                    <p-multiSelect [options]="colshistory" [(ngModel)]="selectedColumns1" optionLabel="header"
                      selectedItemsLabel="{0} columns selected" [style]="{minWidth: '200px'}"
                      defaultLabel="Choose Columns"></p-multiSelect>
                  </div>
                </div>
                <div class="col-lg-6 col-sm-4">
                  <div *ngIf="table.Filter" style="text-align: right">
                    <span class="searchfilter">Search:</span>
                    <input type="text" pInputText size="20" placeholder=""
                      (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto;padding: 5px;">
                  </div>
                </div>
              </div>
            </ng-template>
            <!-- <ng-template pTemplate="colgroup" let-columns>
            <colgroup>
                <col *ngFor="let col of columns" style="width:100px">
            </colgroup>
          </ng-template> -->
            <ng-template pTemplate="header" class="tblheading" let-columns>
              <tr>

                <th *ngFor="let col of columns" [pSortableColumn]="col.field" pResizableColumn pReorderableColumn>
                  <span class="ui-column-title"> {{col.header}}</span>
                  <p-sortIcon [field]="col.field"></p-sortIcon>
                </th>
                <th>Actions</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-car let-columns="columns" let-index="rowIndex"
              class="wordwrap tablebgcolor">
              <tr [pReorderableRow]="index">

                <td *ngFor="let col of columns" class="ui-resizable-column" style="word-break: break-all;">
                  <span class="ui-column-title"> {{col.header}}</span> {{car[col.field]}}
                </td>
                <td data-title="Actions">
                  <span class="ui-column-title">Actions</span>
                  <!-- <td> -->
                  <i *ngIf="isfile==true" (click)="downloadHistClick(car,download)"
                    class="fa fafa fa-download bigfont iconcolor" style="padding-left: 12px;"></i>
                </td>
              </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage" let-columns>
              <tr>

                <td [attr.colspan]="emptyrow">
                  No records found
                </td>

              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </ng-template>


  <ng-template #multichildtable let-modal>
    <div class="modal-header popuphead">
      <h4 class="modal-title popuptitle">{{modulename}}
      </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="container ">
        <div class="col-sm-12">
          <p-table #dt [columns]="selectedColumns2" [value]="multichilddata" [first]="first" [responsive]="true"
            [rows]="10" sortMode="multiple" [scrollable]="table.Scrollable" scrollHeight="250px"
            [resizableColumns]="table.Resizable" [reorderableColumns]="table.Reorder">
            <ng-template pTemplate="caption">
              <div class="row">

                <div class="col-lg-3 col-sm-4">

                  <div *ngIf="table.ExportButton" class="ui-helper-clearfix" style="text-align: left">
                    <button type="button" class="exportbuttons" icon="pi pi-file-o" iconPos="left"
                      (click)="dt.exportCSV()"><span aria-hidden="true"
                        class="ui-button-icon-left ui-clickable fa fa-files-o"
                        style="font-size: 16px; padding: 8px;"></span></button>

                    <button type="button" class="exportbuttons" icon="pi pi-file-pdf" iconPos="left" label="PDF"
                      (click)="exportPdf()"><span aria-hidden="true"
                        class="ui-button-icon-left ui-clickable fa fa-file-pdf-o"
                        style="font-size: 16px; padding: 8px;"></span></button>
                  </div>
                </div>

                <div class="col-lg-3 col-sm-4">
                  <div *ngIf="table.Multiselect" style="text-align:left">
                    <p-multiSelect [options]="multichild" [(ngModel)]="selectedColumns2" optionLabel="header"
                      selectedItemsLabel="{0} columns selected" [style]="{minWidth: '200px'}"
                      defaultLabel="Choose Columns"></p-multiSelect>
                  </div>
                </div>
                <div class="col-lg-6 col-sm-4">
                  <div *ngIf="table.Filter" style="text-align: right">
                    <span class="searchfilter">Search:</span>
                    <input type="text" pInputText size="20" placeholder=""
                      (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto;padding: 5px;">
                  </div>
                </div>
              </div>
            </ng-template>
            <!-- <ng-template pTemplate="colgroup" let-columns>
            <colgroup>
                <col *ngFor="let col of columns" style="width:100px">
            </colgroup>
          </ng-template> -->
            <ng-template pTemplate="header" class="tblheading" let-columns>
              <tr>

                <th *ngFor="let col of columns" [pSortableColumn]="col.field" pResizableColumn pReorderableColumn>
                  <span class="ui-column-title"> {{col.header}}</span>
                  <p-sortIcon [field]="col.field"></p-sortIcon>
                </th>

              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-car let-columns="columns" let-index="rowIndex"
              class="wordwrap tablebgcolor">
              <tr [pReorderableRow]="index">

                <td *ngFor="let col of columns" class="ui-resizable-column" style="word-break: break-all;">
                 
                      <span class="ui-column-title"> {{col.header}}</span> {{car[col.field]}}
                
                
                   
                </td>

              </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage" let-columns>
              <tr>

                <td [attr.colspan]="emptyrow">
                  No records found
                </td>

              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </ng-template>

</div>